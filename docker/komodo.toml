[[server]]
name = "f9-nas"
[server.config]
enabled = true

##

[[stack]]
name = "ai"
[stack.config]
server = "f9-nas"
git_account = "fma965"
repo = "fma965/f9-homelab"
run_directory = "docker/stacks/ai"

##

[[stack]]
name = "media"
[stack.config]
server = "f9-nas"
git_account = "fma965"
repo = "fma965/f9-homelab"
run_directory = "docker/stacks/media"

##

[[stack]]
name = "misc"
[stack.config]
server = "f9-nas"
git_account = "fma965"
repo = "fma965/f9-homelab"
run_directory = "docker/stacks/misc"

##

[[procedure]]
name = "f9-homelab"

[[procedure.config.stage]]
name = "Stage"
enabled = true
executions = [
  { execution.type = "RunSync", execution.params.sync = "f9-homelab", enabled = true }
]

[[procedure.config.stage]]
name = "Stage"
enabled = true
executions = [
  { execution.type = "BatchDeployStackIfChanged", execution.params.pattern = "*", enabled = true }
]

##

[[builder]]
name = "local"
[builder.config]
type = "Server"
params = {}

##

[[resource_sync]]
name = "f9-homelab"
[resource_sync.config]
repo = "fma965/f9-homelab"
git_account = "fma965"
resource_path = ["docker/komodo.toml"]
managed = true
delete = true