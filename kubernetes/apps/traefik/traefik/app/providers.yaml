apiVersion: v1
kind: ConfigMap
metadata:
    name: traefik-providers
    namespace: traefik
data:
    homeassistant.yaml: |-
        http:
          routers:
            homeassistant:
              entryPoints:
                - "websecure"
              rule: "Host(`home.f9.casa`)"
              tls: {}
              service: homeassistant
              middlewares:
                - traefik-default-headers@kubernetescrd

          services:
            homeassistant:
              loadBalancer:
                servers:
                  - url: "http://10.0.10.216:8123"
    truenas.yaml: |-
        http:
          routers:
            truenas:
              entryPoints:
                - "websecure"
              rule: "Host (`truenas.f9.casa`)"
              tls:
              service: truenas
              middlewares:
                - traefik-default-headers@kubernetescrd

          services:
            truenas:
              loadBalancer:
                servers:
                  - url: "http://f9-nas.internal"
    adguardhome.yaml: |-
        http:
          routers:
            adguardhome:
              entryPoints:
                - "websecure"
              rule: "Host (`adguard.f9.casa`)"
              tls:
              service: adguardhome
              middlewares:
                - traefik-default-headers@kubernetescrd

          services:
            adguardhome:
              loadBalancer:
                servers:
                  - url: "http://192.168.1.1:8080"
    forgeui.yaml: |-
        http:
          routers:
            forgeui:
              entryPoints:
                - "websecure"
              rule: "Host (`sd.f9.casa`)"
              tls:
              service: forgeui
              middlewares:
                - traefik-default-headers@kubernetescrd

          services:
            forgeui:
              loadBalancer:
                servers:
                  - url: "http://f9-nas.internal:7400"
    remote.yaml: |-
        http:
          routers:
            remote:
              entryPoints:
                - "websecure"
              rule: "Host (`remote.f9.casa`)"
              tls:
              service: remote
              middlewares: traefik-default-headers@kubernetescrd
          services:
            remote:
              loadBalancer:
                servers:
                  - url: "https://10.0.10.10:443"
    nanokvm.yaml: |-
        http:
          routers:
            nanokvm:
              entryPoints:
                - "websecure"
              rule: "Host (`kvm.f9.casa`)"
              tls:
              service: nanokvm
              middlewares:
                - traefik-default-headers@kubernetescrd

          services:
            nanokvm:
              loadBalancer:
                servers:
                  - url: "http://192.168.30.10:80"